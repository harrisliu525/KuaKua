# Vercel 部署指南

## 🚀 快速部署步骤

### 1. 前置条件检查
- [ ] 代码已提交并推送到GitHub/GitLab
- [ ] 拥有有效的OpenRouter API密钥
- [ ] 本地构建测试通过 (`npm run build`)

### 2. Vercel项目创建
1. 访问 [vercel.com](https://vercel.com)
2. 点击 "New Project"
3. 选择您的代码仓库
4. 确认项目设置（框架会自动检测为Next.js）

### 3. 环境变量配置（关键步骤）

**必须配置的环境变量：**

| 变量名 | 值 | 说明 |
|--------|----|----|
| `OPENROUTER_API_KEY` | 您的OpenRouter API密钥 | 用于AI生成功能 |
| `OPENROUTER_MODEL` | `deepseek/deepseek-chat-v3-0324` | AI模型配置 |

**配置步骤：**
1. 进入项目 → Settings → Environment Variables
2. 添加上述两个变量
3. 确保选择所有环境：Production ✓ Preview ✓ Development ✓
4. 点击 Save

### 4. 部署验证
- [ ] 构建成功完成
- [ ] 网站可以正常访问
- [ ] 夸奖生成功能正常工作
- [ ] 历史记录功能正常

## 🔧 常见问题排查

### 问题1：构建失败 - 环境变量未设置
```
Error: OPENROUTER_API_KEY 环境变量未设置
```

**解决方案：**
1. 确认在Vercel中正确添加了环境变量
2. 变量名拼写完全正确（区分大小写）
3. 重新触发部署

### 问题2：部署成功但功能不工作
**排查步骤：**
1. 检查Vercel Functions日志：项目 → Functions → 查看运行时日志
2. 确认API密钥有效且有足够额度
3. 测试环境变量是否正确传递

### 问题3：域名访问慢
**优化方案：**
- Vercel已配置香港节点（hkg1）以提升国内访问速度
- 考虑使用自定义域名

## 📊 部署后检查清单

### 功能测试
- [ ] 首页正常加载
- [ ] 可以输入夸奖对象
- [ ] 点击生成按钮有响应
- [ ] 能够正常生成夸奖内容
- [ ] 历史记录功能正常
- [ ] 复制功能正常工作

### 性能检查
- [ ] 页面加载速度正常（< 3秒）
- [ ] API响应速度正常（< 10秒）
- [ ] 移动端显示正常

### 安全检查
- [ ] 环境变量未在客户端暴露
- [ ] API密钥安全存储
- [ ] 没有敏感信息泄露

## 🎯 优化建议

### 性能优化
1. **启用Vercel Analytics**：了解网站访问情况
2. **配置缓存策略**：优化API响应速度
3. **启用压缩**：减少传输数据量

### 监控设置
1. **Vercel Monitoring**：监控函数执行情况
2. **错误追踪**：及时发现并解决问题
3. **日志管理**：保留关键操作日志

## 📞 技术支持

如果遇到部署问题，可以：
1. 查看[Vercel官方文档](https://vercel.com/docs)
2. 检查本项目的GitHub Issues
3. 联系项目维护者

---

**提示**：首次部署通常需要3-5分钟，请耐心等待构建完成。 